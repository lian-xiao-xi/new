<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>匿名函数 与 arguments.callee</title>
</head>

<body>

	<script>
		function countDown(count, creatEle, interval, callback) {
			if (count <= 0) return;

			callback(count, creatEle);
			// 匿名函数 与 arguments.callee
			setTimeout(function () {
				if (--count > 0) {
					console.log(arguments.callee);
					setTimeout(arguments.callee, interval);
				}
				callback(count, creatEle);
			}, interval);

			// 推荐使用具名函数
			/**
			 * setTimeout(function update() {
				if (--count > 0) {
					console.log(update);
					setTimeout(update, interval);
				}
				callback(count, creatEle);
			}, interval);
			 * */
		}
		function showCount(count, creatEle) {
			var item = document.createElement(creatEle);
			item.textContent = count;
			document.body.appendChild(item);
		}
		countDown(10, 'p', 1000, showCount);
	</script>
</body>

</html>